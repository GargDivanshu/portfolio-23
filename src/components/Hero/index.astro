---
import Developer from './Developer.astro'
import Freelancer from './Freelancer.astro'
import Name from './Name.astro'
---

<div 
data-color="#13151A"
data-title="Portfolio | Divanshu"
data-title-color="#FEFEFE"
class="main relative space-y-1 overflow-hidden mt-20 h-screen colorBox ">
    <Developer />
    <Name/>
    <Freelancer />
	<a 
	target="_blank"
	href="https://drive.google.com/file/d/1IR_C_g2yq2O7enuFhgUqOGid5f5OjEWY/view"
	class="w-fit border-[1.5px] font-normal border-white rounded-full p-[0.6rem] text-[0.9rem] uppercase text-white px-8 absolute left-0 right-0 mx-auto">
		Resume
	</a>
</div>

<style is:global>
    /* make a variable for the lineheight */
    :root {
        --lineheight: 8rem;
    }
    .banner_line::before,
    .banner_line::after {
        color: transparent;
        -webkit-text-stroke: 0.15rem;
        -webkit-text-stroke-color: #d5d5d57a;
        position: absolute;
        top: 0;
        white-space: nowrap;
        -webkit-transition: all 3s;
        transition: all 0.5s;
        z-index: -1;
        pointer-events: none;
    }
    .banner_line::after {
        left: 100%;
    }
    .banner_line::before {
        right: 100%;
    }
    .banner_line {
        position: relative;
        padding: 0 2rem;
        line-height: var(--lineheight);
        @apply text-zinc-800;
    }
    .banner_line:hover:before {
        color: #e4e4e4;
        -webkit-text-stroke: 0.1rem;
        -webkit-text-stroke-color: #e4e4e4;
    }
    .banner_line:hover:after {
        color: #e4e4e4;
        -webkit-text-stroke: 0.1rem;
        -webkit-text-stroke-color: #e4e4e4;
    }
</style>

<script type="text/javascript">

    
	var cursor = document.querySelector('.cursor'),
	cursorScale = document.querySelectorAll('.cursor-scale'),
	changeText = document.querySelector('.changingText'),
	mouseX = 0,
	mouseY = 0;

	gsap.to({}, 0.016, {
		repeat: -1,
		onRepeat: function() {
			gsap.set(cursor, {
				css: {
					left: mouseX,
					top: mouseY
				}
			})
		}
	})

	window.addEventListener("mousemove", function(e) {
		mouseX = e.clientX;
		mouseY = e.clientY;
	})

	cursorScale.forEach(link => {
		link.addEventListener('mouseleave', () => {
			cursor.classList.remove('grow');
		})
		link.addEventListener('mousemove', () => {
			cursor.classList.add('grow');
		})
	})



	var h1s = document.querySelectorAll('#intro');
	var index = 0
	document.querySelector('main').addEventListener('click', function () {
		gsap.to(h1s[index], {
			y: '-=100%',
			duration: 1,
			ease: Expo.easeInOut,
			onComplete: function () {
				gsap.set(this._targets[0], {
					y: index !== 0 ? '100%' : '0%'})
			}
		})
		index === h1s.length - 1 ? index = 0 : index++
		gsap.to(h1s[index], {
			y: '-=100%',
			duration: 1,
			ease: Expo.easeInOut,
		})
	})


	
</script>